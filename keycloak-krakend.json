{
  "version": 3,
  "timeout": "3s",
  "endpoints":[
    {
      "endpoint": "/api/v3/public/factions",
      "backend": [
          {
            "host":["http://nrdb_api_server:3000"],
            "url_pattern": "/api/v3/public/factions"
          }
      ]
    },
    {
      "endpoint": "/api/v3/private/user",
      "extra_config": {
          "auth/validator": {
              "alg": "RS256",
              "jwk_url": "http://keycloak:8080/realms/nullsignal/protocol/openid-connect/certs",
              "disable_jwk_security": true
          }
      },
      "backend": [
          {
            "host":["http://nrdb_api_server:3000"],
            "url_pattern": "/api/v3/private/user"
          }
      ]
    },
    {
      "endpoint": "/keycloak-protected",
      "extra_config": {
          "auth/validator": {
              "alg": "RS256",
              "jwk_url": "http://keycloak:8080/realms/nullsignal/protocol/openid-connect/certs",
              "disable_jwk_security": true
          }
      },
      "backend": [
          {
            "host":["http://krakend:8080"],
            "url_pattern": "/__health"
          }
      ]
    }
  ]
}
